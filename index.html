<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Страница с часами, погодой и обратной связью</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #222;
    color: #fff;
    padding: 20px;
  }

  /* Стили для часов и погоды с уменьшенным размером шрифта */
  .clock, .weather {
    font-family: 'Arial', sans-serif;
    font-size: 0.2em;
    padding: 2px;
  }

  /* Стиль для кнопки обратной связи */
  #callbackButton {
    background-color: #64d6d6;
    border: none;
    padding: 12px 20px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
  }

  #callbackButton:hover {
    background-color: #4facac;
  }

  /* Боковая панель обратной связи */
  #callbackForm {
    position: fixed;
    top: 0;
    right: -400px;
    width: 400px;
    height: 100%;
    background-color: #fff;
    padding: 20px;
    box-shadow: -2px 0 5px rgba(0,0,0,0.5);
    transition: right 0.3s ease;
    display: flex;
    flex-direction: column;
    z-index: 1000;
  }

  #callbackForm.open {
    right: 0;
  }

  #closeButton {
    align-self: flex-end;
    padding: 8px 12px;
    background-color: #444;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }

  /* Стили для формы */
  #callbackForm form {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 20px;
  }

  #callbackForm input {
    padding: 8px;
    font-size: 14px;
  }

  #callbackForm button[type="submit"] {
    padding: 10px;
    background-color: #4caf50;
    border: none;
    color: #fff;
    cursor: pointer;
    font-size: 16px;
    border-radius: 4px;
  }

  #callbackForm button[type="submit"]:hover {
    background-color: #45a049;
  }
</style>
</head>
<body>

<!-- Часы -->
<div class="clock" id="clock">00:00:00</div>

<!-- Погода -->
<div class="weather" id="weather">Загрузка погоды...</div>

<!-- Кнопка вызвать форму обратной связи -->
<button id="callbackButton">Обратная связь</button>

<!-- Боковая панель формы -->
<div id="callbackForm">
  <button id="closeButton">Закрыть</button>
  <h2>Обратная связь</h2>
  <form id="form" action="#" method="post">
    <input type="text" id="name" placeholder="Имя" required>
    <input type="email" id="email" placeholder="Email" required>
    <button type="submit">Отправить</button>
  </form>
</div>

<script>
  /* Отображение времени */
  function updateClock() {
    const now = new Date();
    let hours = now.getHours().toString().padStart(2, '0');
    let minutes = now.getMinutes().toString().padStart(2, '0');
    let seconds = now.getSeconds().toString().padStart(2, '0');
    document.getElementById('clock').textContent = `${hours}:${minutes}:${seconds}`;
  }
  setInterval(updateClock, 1000);
  updateClock(); // начальное вызово

  /* Получение и отображение погоды */
  const weatherDiv = document.getElementById('weather');

  async function getWeather() {
    const apiKey = 'YOUR_OPENWEATHERMAP_API_KEY'; // вставьте свой API ключ
    const city = 'Moscow'; // или любой другой город
    const url = \`https://api.openweathermap.org/data/2.5/weather?q=\${city}&units=metric&lang=ru&appid=\${apiKey}\`;

    try {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error('Ошибка получения погоды');
      }
      const data = await response.json();
      const temp = Math.round(data.main.temp);
      const description = data.weather[0].description;
      weatherDiv.textContent = \`\${temp}°C, \${description}\`;
    } catch (error) {
      weatherDiv.textContent = 'Не удалось загрузить погоду';
      console.error(error);
    }
  }
  getWeather();

  /* Обработка кнопки открытия формы */
  const callbackButton = document.getElementById('callbackButton');
  const callbackForm = document.getElementById('callbackForm');
  const closeButton = document.getElementById('closeButton');

  callbackButton.addEventListener('click', () => {
    callbackForm.classList.add('open');
  });

  closeButton.addEventListener('click', () => {
    callbackForm.classList.remove('open');
  });

  /* Обработка формы */
  const form = document.getElementById('form');

  form.addEventListener('submit', function(event) {
    event.preventDefault(); // Останавливаем стандартное действие

    const name = document.getElementById('name').value.trim();
    const email = document.getElementById('email').value.trim();

    // Простая проверка полей
    if (!name || !email) {
      alert('Пожалуйста, заполните все поля.');
      return;
    }

    // Проверка формата email
    const emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
    if (!email.match(emailPattern)) {
      alert('Пожалуйста, введите корректный email.');
      return;
    }

    // Успешное сообщение
    alert(`Спасибо, ${name}! Ваша информация отправлена.`);

    // Очистка формы
    form.reset();

    // Закрыть форму
    callbackForm.classList.remove('open');

    // Здесь можно добавить отправку данных на сервер через fetch, if needed
  });
</script>

</body>
</html>
